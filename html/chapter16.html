<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="./">
    <title>ç¬¬ 16 ç« ï¼šå®‰å…¨æ€§ä¸è¯Šæ–­ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>ç›®å½•</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="æœç´¢..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-item " >
                        <a href="index.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ROS2 å®Œå…¨æ•™ç¨‹ï¼šä»åŸç†åˆ°å®è·µ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter1.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 1 ç« ï¼šROS1 æ ¸å¿ƒæ¦‚å¿µå›é¡¾</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter2.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 2 ç« ï¼šROS1 çš„å±€é™æ€§åˆ†æ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter3.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 3 ç« ï¼šä» ROS1 åˆ° ROS2 çš„è¿ç§»ç­–ç•¥</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter4.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 4 ç« ï¼šROS2 æ¶æ„ä¸è®¾è®¡ç†å¿µ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter5.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 5 ç« ï¼šèŠ‚ç‚¹ä¸æ‰§è¡Œå™¨æ¨¡å‹</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter6.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 6 ç« ï¼šé€šä¿¡æœºåˆ¶æ·±åº¦è§£æ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter7.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 7 ç« ï¼šLaunch ç³»ç»Ÿä¸é…ç½®ç®¡ç†</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter8.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 8 ç« ï¼štf2 åæ ‡å˜æ¢æ¡†æ¶</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter9.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 9 ç« ï¼šæ—¶é—´åŒæ­¥ä¸å›æ”¾ç³»ç»Ÿ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter10.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 10 ç« ï¼šä¼ æ„Ÿå™¨æ•°æ®å¤„ç†ç®¡é“</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter11.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 11 ç« ï¼šSLAM ä¸å®šä½ç³»ç»Ÿ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter12.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 12 ç« ï¼šå¯¼èˆªæ ˆ Nav2</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter13.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 13 ç« ï¼šros2_control æ¡†æ¶</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter14.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 14 ç« ï¼šMoveIt2 è¿åŠ¨è§„åˆ’</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter15.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 15 ç« ï¼šå®æ—¶ç³»ç»Ÿä¸æ€§èƒ½ä¼˜åŒ–</span>
                        </a>
                    </div>
                
                    <div class="tree-item active" >
                        <a href="chapter16.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 16 ç« ï¼šå®‰å…¨æ€§ä¸è¯Šæ–­ç³»ç»Ÿ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter17.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 17 ç« ï¼šä»¿çœŸé›†æˆï¼ˆGazebo/Ignitionï¼‰</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter18.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 18 ç« ï¼šå¤šæœºå™¨äººç³»ç»Ÿ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter19.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 19 ç« ï¼šè®¡ç®—æœºè§†è§‰ä¸æ·±åº¦å­¦ä¹ </span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter20.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 20 ç« ï¼šæœºå™¨äººå¼ºåŒ–å­¦ä¹ </span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter21.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 21 ç« ï¼šå¤§è¯­è¨€æ¨¡å‹ä¸å…·èº«æ™ºèƒ½</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter22.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬ 22 ç« ï¼šç¥ç»ç½‘ç»œè¿åŠ¨æ§åˆ¶</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="CLAUDE.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <h1 id="16">ç¬¬ 16 ç« ï¼šå®‰å…¨æ€§ä¸è¯Šæ–­ç³»ç»Ÿ</h1>
<p>æœ¬ç« æ·±å…¥æ¢è®¨ ROS2 çš„å®‰å…¨æ€§æ¡†æ¶å’Œè¯Šæ–­ç³»ç»Ÿï¼Œè¿™æ˜¯æ„å»ºå¯é ã€å®‰å…¨çš„æœºå™¨äººç³»ç»Ÿçš„å…³é”®åŸºç¡€ã€‚æˆ‘ä»¬å°†ä» SROS2ï¼ˆSecure ROS2ï¼‰å®‰å…¨æ¡†æ¶å¼€å§‹ï¼Œå­¦ä¹ å¦‚ä½•é€šè¿‡è®¿é—®æ§åˆ¶ã€åŠ å¯†å’Œè®¤è¯æœºåˆ¶ä¿æŠ¤æœºå™¨äººç³»ç»Ÿã€‚éšåæ·±å…¥è¯Šæ–­ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°ï¼Œæ¢è®¨å¦‚ä½•ç›‘æ§ç³»ç»Ÿå¥åº·çŠ¶æ€ã€æ£€æµ‹æ•…éšœå¹¶æ‰§è¡Œæ¢å¤ç­–ç•¥ã€‚é€šè¿‡åŒ»ç–—æœºå™¨äºº ISO 13485 åˆè§„æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨å®é™…äº§ä¸šä¸­å®æ–½å®‰å…¨å’Œè¯Šæ–­æœºåˆ¶ã€‚æœ€åè®¨è®ºåŠŸèƒ½å®‰å…¨è®¤è¯å’Œ SILï¼ˆSafety Integrity Levelï¼‰çº§åˆ«ï¼Œä¸ºå®‰å…¨å…³é”®å‹åº”ç”¨æä¾›æŒ‡å¯¼ã€‚</p>
<h2 id="161-sros2">16.1 SROS2 å®‰å…¨æ¡†æ¶æ¦‚è¿°</h2>
<h3 id="1611">16.1.1 å®‰å…¨å¨èƒæ¨¡å‹</h3>
<p>åœ¨åˆ†å¸ƒå¼æœºå™¨äººç³»ç»Ÿä¸­ï¼Œä¸»è¦é¢ä¸´ä»¥ä¸‹å®‰å…¨å¨èƒï¼š</p>
<ol>
<li><strong>æ•°æ®çªƒå¬</strong>ï¼ˆEavesdroppingï¼‰ï¼šæœªæˆæƒèŠ‚ç‚¹ç›‘å¬æ•æ„Ÿæ•°æ®</li>
<li><strong>æ•°æ®ç¯¡æ”¹</strong>ï¼ˆTamperingï¼‰ï¼šæ¶æ„ä¿®æ”¹ä¼ è¾“ä¸­çš„æ¶ˆæ¯</li>
<li><strong>èº«ä»½ä¼ªé€ </strong>ï¼ˆSpoofingï¼‰ï¼šå†’å……åˆæ³•èŠ‚ç‚¹å‘é€è™šå‡å‘½ä»¤</li>
<li><strong>æ‹’ç»æœåŠ¡</strong>ï¼ˆDoSï¼‰ï¼šé€šè¿‡å¤§é‡è¯·æ±‚ä½¿ç³»ç»Ÿç˜«ç—ª</li>
<li><strong>æƒé™æå‡</strong>ï¼ˆPrivilege Escalationï¼‰ï¼šè·å–è¶…å‡ºæˆæƒçš„ç³»ç»Ÿè®¿é—®</li>
</ol>
<h3 id="1612-sros2">16.1.2 SROS2 æ¶æ„</h3>
<p>SROS2 å»ºç«‹åœ¨ DDS Security è§„èŒƒä¹‹ä¸Šï¼Œæä¾›ç«¯åˆ°ç«¯çš„å®‰å…¨ä¿æŠ¤ï¼š</p>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Application Layer                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ROS2 Middleware                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            DDS Security Plugins              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚Auth Pluginâ”‚Access    â”‚Crypto Plugin â”‚    â”‚
â”‚  â”‚          â”‚Control   â”‚              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              DDS Core                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="1613">16.1.3 å®‰å…¨ç­–ç•¥é…ç½®</h3>
<p>SROS2 ä½¿ç”¨ XML æ ¼å¼çš„å®‰å…¨ç­–ç•¥æ–‡ä»¶å®šä¹‰è®¿é—®æƒé™ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;dds</span><span class="w"> </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;permissions&gt;</span>
<span class="w">    </span><span class="nt">&lt;grant</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;robot_controller_permissions&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;subject_name&gt;</span>CN=robot_controller<span class="nt">&lt;/subject_name&gt;</span>
<span class="w">      </span><span class="nt">&lt;validity&gt;</span>
<span class="w">        </span><span class="nt">&lt;not_before&gt;</span>2024-01-01T00:00:00<span class="nt">&lt;/not_before&gt;</span>
<span class="w">        </span><span class="nt">&lt;not_after&gt;</span>2025-01-01T00:00:00<span class="nt">&lt;/not_after&gt;</span>
<span class="w">      </span><span class="nt">&lt;/validity&gt;</span>
<span class="w">      </span><span class="nt">&lt;allow_rule&gt;</span>
<span class="w">        </span><span class="nt">&lt;domains&gt;</span>
<span class="w">          </span><span class="nt">&lt;id&gt;</span>0<span class="nt">&lt;/id&gt;</span>
<span class="w">        </span><span class="nt">&lt;/domains&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish&gt;</span>
<span class="w">          </span><span class="nt">&lt;topics&gt;</span>
<span class="w">            </span><span class="nt">&lt;topic&gt;</span>/cmd_vel<span class="nt">&lt;/topic&gt;</span>
<span class="w">            </span><span class="nt">&lt;topic&gt;</span>/robot_status<span class="nt">&lt;/topic&gt;</span>
<span class="w">          </span><span class="nt">&lt;/topics&gt;</span>
<span class="w">        </span><span class="nt">&lt;/publish&gt;</span>
<span class="w">        </span><span class="nt">&lt;subscribe&gt;</span>
<span class="w">          </span><span class="nt">&lt;topics&gt;</span>
<span class="w">            </span><span class="nt">&lt;topic&gt;</span>/sensors/*<span class="nt">&lt;/topic&gt;</span>
<span class="w">          </span><span class="nt">&lt;/topics&gt;</span>
<span class="w">        </span><span class="nt">&lt;/subscribe&gt;</span>
<span class="w">      </span><span class="nt">&lt;/allow_rule&gt;</span>
<span class="w">    </span><span class="nt">&lt;/grant&gt;</span>
<span class="w">  </span><span class="nt">&lt;/permissions&gt;</span>
<span class="nt">&lt;/dds&gt;</span>
</code></pre></div>

<h3 id="1614">16.1.4 å¯†é’¥ç®¡ç†</h3>
<p>SROS2 é‡‡ç”¨ PKIï¼ˆPublic Key Infrastructureï¼‰ä½“ç³»ï¼š</p>
<ol>
<li><strong>è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰</strong>ï¼šç­¾å‘å’Œç®¡ç†æ•°å­—è¯ä¹¦</li>
<li><strong>èŠ‚ç‚¹è¯ä¹¦</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰å”¯ä¸€çš„èº«ä»½è¯ä¹¦</li>
<li><strong>å¯†é’¥å­˜å‚¨</strong>ï¼šä½¿ç”¨å¯†é’¥åº“ï¼ˆkeystoreï¼‰å®‰å…¨å­˜å‚¨ç§é’¥</li>
<li><strong>è¯ä¹¦é“¾éªŒè¯</strong>ï¼šé€šè¿‡è¯ä¹¦é“¾éªŒè¯èŠ‚ç‚¹èº«ä»½</li>
</ol>
<p>å¯†é’¥ç”Ÿæˆå’Œåˆ†å‘æµç¨‹ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># åˆå§‹åŒ–å®‰å…¨ç›®å½•</span>
ros2<span class="w"> </span>security<span class="w"> </span>create_keystore<span class="w"> </span>demo_keystore

<span class="c1"># ç”Ÿæˆæ ¹è¯ä¹¦</span>
ros2<span class="w"> </span>security<span class="w"> </span>create_key<span class="w"> </span>demo_keystore<span class="w"> </span>/robot_controller

<span class="c1"># åˆ›å»ºæƒé™æ–‡ä»¶</span>
ros2<span class="w"> </span>security<span class="w"> </span>create_permission<span class="w"> </span>demo_keystore<span class="w"> </span>/robot_controller<span class="w"> </span>permissions.xml

<span class="c1"># ç­¾å‘è¯ä¹¦</span>
ros2<span class="w"> </span>security<span class="w"> </span>create_enclave<span class="w"> </span>demo_keystore<span class="w"> </span>/robot_controller
</code></pre></div>

<h2 id="162">16.2 è®¿é—®æ§åˆ¶ä¸åŠ å¯†æœºåˆ¶</h2>
<h3 id="1621">16.2.1 ç»†ç²’åº¦è®¿é—®æ§åˆ¶</h3>
<p>SROS2 æ”¯æŒå¤šå±‚æ¬¡çš„è®¿é—®æ§åˆ¶ï¼š</p>
<ol>
<li><strong>åŸŸçº§åˆ«æ§åˆ¶</strong>ï¼šé™åˆ¶èŠ‚ç‚¹å¯ä»¥åŠ å…¥çš„ DDS åŸŸ</li>
<li><strong>è¯é¢˜çº§åˆ«æ§åˆ¶</strong>ï¼šç²¾ç¡®æ§åˆ¶å‘å¸ƒå’Œè®¢é˜…æƒé™</li>
<li><strong>æœåŠ¡çº§åˆ«æ§åˆ¶</strong>ï¼šé™åˆ¶æœåŠ¡è°ƒç”¨æƒé™</li>
<li><strong>å‚æ•°çº§åˆ«æ§åˆ¶</strong>ï¼šä¿æŠ¤æ•æ„Ÿå‚æ•°è®¿é—®</li>
</ol>
<p>è®¿é—®æ§åˆ¶çŸ©é˜µç¤ºä¾‹ï¼š</p>
<p>| èŠ‚ç‚¹ | å‘å¸ƒæƒé™ | è®¢é˜…æƒé™ | æœåŠ¡è°ƒç”¨æƒé™ |</p>
<table>
<thead>
<tr>
<th>èŠ‚ç‚¹</th>
<th>å‘å¸ƒæƒé™</th>
<th>è®¢é˜…æƒé™</th>
<th>æœåŠ¡è°ƒç”¨æƒé™</th>
</tr>
</thead>
<tbody>
<tr>
<td>navigation</td>
<td>/cmd_vel, /path</td>
<td>/scan, /map</td>
<td>/get_plan</td>
</tr>
<tr>
<td>perception</td>
<td>/scan, /pointcloud</td>
<td>/camera/*</td>
<td>-</td>
</tr>
<tr>
<td>controller</td>
<td>/joint_states</td>
<td>/cmd_vel</td>
<td>/emergency_stop</td>
</tr>
</tbody>
</table>
<h3 id="1622">16.2.2 åŠ å¯†ç®—æ³•é€‰æ‹©</h3>
<p>SROS2 æ”¯æŒå¤šç§åŠ å¯†ç®—æ³•ï¼Œæ ¹æ®æ€§èƒ½å’Œå®‰å…¨éœ€æ±‚é€‰æ‹©ï¼š</p>
<div class="codehilite"><pre><span></span><code>å¯¹ç§°åŠ å¯†ï¼ˆæ•°æ®åŠ å¯†ï¼‰:

- AES-128-GCM: æ ‡å‡†é€‰æ‹©ï¼Œå¹³è¡¡æ€§èƒ½ä¸å®‰å…¨
- AES-256-GCM: é«˜å®‰å…¨çº§åˆ«ï¼Œé€‚ç”¨äºæ•æ„Ÿæ•°æ®
- ChaCha20-Poly1305: ARM è®¾å¤‡ä¼˜åŒ–

éå¯¹ç§°åŠ å¯†ï¼ˆå¯†é’¥äº¤æ¢ï¼‰:

- RSA-2048: å¹¿æ³›æ”¯æŒï¼Œå…¼å®¹æ€§å¥½
- ECDSA-P256: æ›´å°çš„å¯†é’¥å°ºå¯¸ï¼Œæ›´é«˜æ•ˆ
- EdDSA: ç°ä»£ç®—æ³•ï¼ŒæŠ—ä¾§ä¿¡é“æ”»å‡»

å“ˆå¸Œç®—æ³•ï¼ˆå®Œæ•´æ€§éªŒè¯ï¼‰:

- SHA-256: æ ‡å‡†é€‰æ‹©
- SHA-384/512: æ›´é«˜å®‰å…¨çº§åˆ«
- BLAKE2: é«˜æ€§èƒ½æ›¿ä»£æ–¹æ¡ˆ
</code></pre></div>

<h3 id="1623">16.2.3 ä¼ è¾“å±‚å®‰å…¨</h3>
<p>æ•°æ®ä¼ è¾“å®‰å…¨æœºåˆ¶ï¼š</p>
<ol>
<li><strong>æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰</strong>ï¼šéªŒè¯æ¶ˆæ¯å®Œæ•´æ€§å’Œæ¥æº</li>
<li><strong>åºåˆ—å·</strong>ï¼šé˜²æ­¢é‡æ”¾æ”»å‡»</li>
<li><strong>æ—¶é—´æˆ³</strong>ï¼šç¡®ä¿æ¶ˆæ¯æ—¶æ•ˆæ€§</li>
<li><strong>åŠ å¯†æœ‰æ•ˆè½½è·</strong>ï¼šä¿æŠ¤æ•æ„Ÿæ•°æ®å†…å®¹</li>
</ol>
<p>æ€§èƒ½å½±å“åˆ†æï¼š</p>
<div class="codehilite"><pre><span></span><code>åŸºå‡†æµ‹è¯•ï¼ˆ1000å­—èŠ‚æ¶ˆæ¯ï¼Œ1kHz å‘å¸ƒé¢‘ç‡ï¼‰ï¼š

- æ— å®‰å…¨ä¿æŠ¤: å»¶è¿Ÿ 0.5ms, CPU 5%
- ä»…è®¤è¯: å»¶è¿Ÿ 0.7ms, CPU 8%
- è®¤è¯+åŠ å¯†: å»¶è¿Ÿ 1.2ms, CPU 15%
- å®Œæ•´å®‰å…¨å¥—ä»¶: å»¶è¿Ÿ 1.5ms, CPU 20%
</code></pre></div>

<h3 id="1624">16.2.4 å®‰å…¨é€šä¿¡å»ºç«‹æµç¨‹</h3>
<p>èŠ‚ç‚¹é—´å®‰å…¨é€šä¿¡çš„å»ºç«‹è¿‡ç¨‹ï¼š</p>
<div class="codehilite"><pre><span></span><code>Node A                          Node B
  â”‚                               â”‚
  â”œâ”€â”€â”€â”€â”€â”€[1. Discovery]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚
  â”‚   (å¹¿æ’­èŠ‚ç‚¹ä¿¡æ¯å’Œè¯ä¹¦)         â”‚
  â”‚                               â”‚
  â”‚&lt;â”€â”€â”€â”€â”€[2. Authentication]â”€â”€â”€â”€â”€â”€â”¤
  â”‚   (ç›¸äº’éªŒè¯èº«ä»½è¯ä¹¦)           â”‚
  â”‚                               â”‚
  â”œâ”€â”€â”€â”€â”€â”€[3. Key Exchange]â”€â”€â”€â”€â”€â”€â”€&gt;â”‚
  â”‚   (åå•†ä¼šè¯å¯†é’¥)              â”‚
  â”‚                               â”‚
  â”‚&lt;â”€â”€â”€â”€â”€[4. Access Check]â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚   (éªŒè¯è®¿é—®æƒé™)              â”‚
  â”‚                               â”‚
  â”œâ•â•â•â•â•â•[5. Secure Channel]â•â•â•â•â•â•â”¤
  â”‚   (å»ºç«‹åŠ å¯†é€šé“)              â”‚
  â”‚                               â”‚
</code></pre></div>

<h2 id="163">16.3 è¯Šæ–­ç³»ç»Ÿæ¶æ„</h2>
<h3 id="1631">16.3.1 è¯Šæ–­æ¶ˆæ¯æ ‡å‡†</h3>
<p>ROS2 è¯Šæ–­ç³»ç»Ÿä½¿ç”¨æ ‡å‡†åŒ–çš„æ¶ˆæ¯æ ¼å¼ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># diagnostic_msgs/msg/DiagnosticStatus.msg</span>
<span class="n">byte</span> <span class="n">OK</span><span class="o">=</span><span class="mi">0</span>
<span class="n">byte</span> <span class="n">WARN</span><span class="o">=</span><span class="mi">1</span>
<span class="n">byte</span> <span class="n">ERROR</span><span class="o">=</span><span class="mi">2</span>
<span class="n">byte</span> <span class="n">STALE</span><span class="o">=</span><span class="mi">3</span>

<span class="n">byte</span> <span class="n">level</span>              <span class="c1"># è¯Šæ–­çº§åˆ«</span>
<span class="n">string</span> <span class="n">name</span>            <span class="c1"># ç»„ä»¶åç§°</span>
<span class="n">string</span> <span class="n">message</span>         <span class="c1"># äººç±»å¯è¯»çš„çŠ¶æ€æè¿°</span>
<span class="n">string</span> <span class="n">hardware_id</span>     <span class="c1"># ç¡¬ä»¶æ ‡è¯†ç¬¦</span>
<span class="n">KeyValue</span><span class="p">[]</span> <span class="n">values</span>      <span class="c1"># é”®å€¼å¯¹å½¢å¼çš„è¯¦ç»†ä¿¡æ¯</span>
</code></pre></div>

<h3 id="1632">16.3.2 è¯Šæ–­èšåˆå™¨è®¾è®¡</h3>
<p>è¯Šæ–­èšåˆå™¨ï¼ˆDiagnostic Aggregatorï¼‰æ”¶é›†å’Œç»„ç»‡è¯Šæ–­ä¿¡æ¯ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="w">                    </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Diagnostic</span><span class="w">       </span><span class="err">â”‚</span>
<span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Aggregator</span><span class="w">       </span><span class="err">â”‚</span>
<span class="w">                    </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                             </span><span class="err">â”‚</span>
<span class="w">            </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">            </span><span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Hardware</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Software</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Network</span><span class="w">    </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Monitor</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Monitor</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Monitor</span><span class="w">    </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">            </span><span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="n">Temp</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Node</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Latency</span><span class="w">    </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Memory</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Frequency</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Packet</span><span class="w"> </span><span class="n">Loss</span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Disk</span><span class="w"> </span><span class="n">Space</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Queue</span><span class="w"> </span><span class="n">Size</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Bandwidth</span><span class="w">  </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="1633">16.3.3 è¯Šæ–­æ›´æ–°å™¨å®ç°</h3>
<p>èŠ‚ç‚¹çº§è¯Šæ–­æ›´æ–°å™¨ç¤ºä¾‹ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">rclpy</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rclpy.node</span><span class="w"> </span><span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">diagnostic_updater</span><span class="w"> </span><span class="kn">import</span> <span class="n">Updater</span><span class="p">,</span> <span class="n">FunctionDiagnosticTask</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">diagnostic_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiagnosticStatus</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SensorNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s1">&#39;sensor_node&#39;</span><span class="p">)</span>

        <span class="c1"># åˆå§‹åŒ–è¯Šæ–­æ›´æ–°å™¨</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updater</span> <span class="o">=</span> <span class="n">Updater</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updater</span><span class="o">.</span><span class="n">setHardwareID</span><span class="p">(</span><span class="s2">&quot;sensor_001&quot;</span><span class="p">)</span>

        <span class="c1"># æ·»åŠ è¯Šæ–­ä»»åŠ¡</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updater</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Sensor Connection&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_connection</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updater</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Data Rate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_data_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updater</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Data Quality&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_data_quality</span><span class="p">)</span>

        <span class="c1"># è¯Šæ–­æ›´æ–°å®šæ—¶å™¨</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">updater</span><span class="o">.</span><span class="n">update</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stat</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sensor_connected</span><span class="p">:</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">DiagnosticStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span> <span class="s2">&quot;Connected&quot;</span><span class="p">)</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Port&quot;</span><span class="p">,</span> <span class="s2">&quot;/dev/ttyUSB0&quot;</span><span class="p">)</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Baud Rate&quot;</span><span class="p">,</span> <span class="s2">&quot;115200&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">DiagnosticStatus</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="s2">&quot;Disconnected&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_data_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stat</span><span class="p">):</span>
        <span class="n">rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_data_rate</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rate</span> <span class="o">&gt;</span> <span class="mi">90</span><span class="p">:</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">DiagnosticStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">rate</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">DiagnosticStatus</span><span class="o">.</span><span class="n">WARN</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> Hz (Low)&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stat</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">DiagnosticStatus</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> Hz (Critical)&quot;</span><span class="p">)</span>
        <span class="n">stat</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Expected Rate&quot;</span><span class="p">,</span> <span class="s2">&quot;100 Hz&quot;</span><span class="p">)</span>
        <span class="n">stat</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Actual Rate&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="1634">16.3.4 è¯Šæ–­åˆ†æå™¨é…ç½®</h3>
<p>é…ç½®è¯Šæ–­åˆ†æå™¨ä»¥ç»„ç»‡å’Œè§£é‡Šè¯Šæ–­ä¿¡æ¯ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># diagnostic_aggregator.yaml</span>
<span class="nt">analyzers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">sensors</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/AnalyzerGroup</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Sensors</span>
<span class="w">    </span><span class="nt">analyzers</span><span class="p">:</span>
<span class="w">      </span><span class="nt">lidar</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/GenericAnalyzer</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LiDAR</span>
<span class="w">        </span><span class="nt">contains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;lidar&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span>

<span class="w">      </span><span class="nt">cameras</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/GenericAnalyzer</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cameras</span>
<span class="w">        </span><span class="nt">contains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;camera&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">remove_prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">camera_</span>

<span class="w">  </span><span class="nt">motors</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/GenericAnalyzer</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Motors</span>
<span class="w">    </span><span class="nt">contains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;motor&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;joint&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">expected</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;motor_left&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;motor_right&#39;</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="nt">system</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/AnalyzerGroup</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">System</span>
<span class="w">    </span><span class="nt">analyzers</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/GenericAnalyzer</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CPU</span>
<span class="w">        </span><span class="nt">contains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;cpu&#39;</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="nt">memory</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diagnostic_aggregator/GenericAnalyzer</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Memory</span>
<span class="w">        </span><span class="nt">contains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;memory&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;ram&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h2 id="164">16.4 ç³»ç»Ÿç›‘æ§ä¸æ•…éšœå¤„ç†</h2>
<h3 id="1641">16.4.1 å¥åº·ç›‘æ§æŒ‡æ ‡</h3>
<p>å…³é”®ç³»ç»Ÿå¥åº·æŒ‡æ ‡ï¼š</p>
<ol>
<li>
<p><strong>æ€§èƒ½æŒ‡æ ‡</strong>
   - CPU ä½¿ç”¨ç‡å’Œæ¸©åº¦
   - å†…å­˜ä½¿ç”¨å’Œäº¤æ¢ç©ºé—´
   - ç½‘ç»œå»¶è¿Ÿå’Œä¸¢åŒ…ç‡
   - ç£ç›˜ I/O å’Œç©ºé—´ä½¿ç”¨</p>
</li>
<li>
<p><strong>ROS2 ç‰¹å®šæŒ‡æ ‡</strong>
   - èŠ‚ç‚¹å­˜æ´»çŠ¶æ€
   - è¯é¢˜å‘å¸ƒé¢‘ç‡
   - æ¶ˆæ¯é˜Ÿåˆ—æ·±åº¦
   - å›è°ƒæ‰§è¡Œæ—¶é—´</p>
</li>
<li>
<p><strong>ç¡¬ä»¶æŒ‡æ ‡</strong>
   - ä¼ æ„Ÿå™¨æ•°æ®ç‡
   - æ‰§è¡Œå™¨å“åº”æ—¶é—´
   - ç”µæ± ç”µå‹å’Œç”µæµ
   - æ¸©åº¦ä¼ æ„Ÿå™¨è¯»æ•°</p>
</li>
</ol>
<p>ç›‘æ§æ•°æ®æµæ°´çº¿ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="err">æ•°æ®é‡‡é›†</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">é¢„å¤„ç†</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">å¼‚å¸¸æ£€æµ‹</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">å‘Šè­¦ç”Ÿæˆ</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">å“åº”æ‰§è¡Œ</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">          </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”‚</span><span class="w">            </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”‚</span>
<span class="w">  </span><span class="n">Metrics</span><span class="w">   </span><span class="n">Filter</span><span class="w">    </span><span class="n">Threshold</span><span class="w">     </span><span class="n">Priority</span><span class="w">    </span><span class="n">Action</span>
<span class="w"> </span><span class="n">Collector</span><span class="w">  </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Aggregate</span><span class="w">  </span><span class="n">Check</span><span class="w">      </span><span class="n">Assignment</span><span class="w">  </span><span class="n">Trigger</span>
</code></pre></div>

<h3 id="1642">16.4.2 æ•…éšœæ£€æµ‹ç®—æ³•</h3>
<p>å®ç°å¤šå±‚æ¬¡æ•…éšœæ£€æµ‹ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FaultDetector</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thresholds</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;cpu_usage&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;warn&#39;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">},</span>
            <span class="s1">&#39;memory_usage&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;warn&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="mi">95</span><span class="p">},</span>
            <span class="s1">&#39;message_delay&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;warn&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>  <span class="c1"># ms</span>
            <span class="s1">&#39;packet_loss&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;warn&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>  <span class="c1"># percentage</span>
        <span class="p">}</span>

        <span class="c1"># æ»‘åŠ¨çª—å£ç”¨äºè¶‹åŠ¿åˆ†æ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history_window</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># seconds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metric_history</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">deque</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">detect_anomalies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metrics</span><span class="p">):</span>
        <span class="n">anomalies</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># é˜ˆå€¼æ£€æµ‹</span>
        <span class="k">for</span> <span class="n">metric</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">metrics</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">metric</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">thresholds</span><span class="p">:</span>
                <span class="n">level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_threshold</span><span class="p">(</span><span class="n">metric</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">level</span><span class="p">:</span>
                    <span class="n">anomalies</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">metric</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

        <span class="c1"># è¶‹åŠ¿åˆ†æ</span>
        <span class="n">trends</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyze_trends</span><span class="p">(</span><span class="n">metrics</span><span class="p">)</span>
        <span class="n">anomalies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">trends</span><span class="p">)</span>

        <span class="c1"># ç›¸å…³æ€§åˆ†æ</span>
        <span class="n">correlations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_correlations</span><span class="p">(</span><span class="n">metrics</span><span class="p">)</span>
        <span class="n">anomalies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">correlations</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">anomalies</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">analyze_trends</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metrics</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;æ£€æµ‹å¼‚å¸¸è¶‹åŠ¿&quot;&quot;&quot;</span>
        <span class="n">trends</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">metric</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">metrics</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metric_history</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metric_history</span><span class="p">[</span><span class="n">metric</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
                <span class="c1"># è®¡ç®—å˜åŒ–ç‡</span>
                <span class="n">recent</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metric_history</span><span class="p">[</span><span class="n">metric</span><span class="p">])[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]</span>
                <span class="n">slope</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">recent</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">slope</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_trend_threshold</span><span class="p">(</span><span class="n">metric</span><span class="p">):</span>
                    <span class="n">trends</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">metric</span><span class="p">,</span> <span class="s1">&#39;trend&#39;</span><span class="p">,</span> <span class="n">slope</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">trends</span>
</code></pre></div>

<h3 id="1643">16.4.3 æ•…éšœæ¢å¤ç­–ç•¥</h3>
<p>åˆ†çº§æ•…éšœæ¢å¤æœºåˆ¶ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RecoveryManager</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recovery_strategies</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;node_crash&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">restart_node</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">restart_with_safe_config</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_backup_node</span>
            <span class="p">],</span>
            <span class="s1">&#39;sensor_failure&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reset_sensor</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">use_sensor_fusion</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enable_degraded_mode</span>
            <span class="p">],</span>
            <span class="s1">&#39;network_issue&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reset_network_interface</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_backup_network</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enable_offline_mode</span>
            <span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_recovery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fault_type</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;æ‰§è¡Œåˆ†çº§æ¢å¤ç­–ç•¥&quot;&quot;&quot;</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recovery_strategies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">fault_type</span><span class="p">,</span> <span class="p">[])</span>

        <span class="k">for</span> <span class="n">strategy</span> <span class="ow">in</span> <span class="n">strategies</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting recovery: </span><span class="si">{</span><span class="n">strategy</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">success</span> <span class="o">=</span> <span class="n">strategy</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">success</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recovery successful: </span><span class="si">{</span><span class="n">strategy</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">True</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recovery failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>

<h3 id="1644">16.4.4 æ•…éšœéš”ç¦»ä¸é™çº§</h3>
<p>å®ç°ä¼˜é›…é™çº§æœºåˆ¶ï¼š</p>
<div class="codehilite"><pre><span></span><code>æ­£å¸¸æ¨¡å¼ (100% åŠŸèƒ½)
    â”‚
    â”œâ”€&gt; æ€§èƒ½é™çº§æ¨¡å¼ (80% åŠŸèƒ½)
    â”‚   - é™ä½ä¼ æ„Ÿå™¨é‡‡æ ·ç‡
    â”‚   - ç®€åŒ–è·¯å¾„è§„åˆ’ç®—æ³•
    â”‚   - å‡å°‘å¹¶å‘ä»»åŠ¡
    â”‚
    â”œâ”€&gt; å®‰å…¨æ¨¡å¼ (50% åŠŸèƒ½)
    â”‚   - ä»…ä¿ç•™æ ¸å¿ƒåŠŸèƒ½
    â”‚   - é™åˆ¶è¿åŠ¨é€Ÿåº¦
    â”‚   - å¢åŠ å®‰å…¨è¾¹ç•Œ
    â”‚
    â””â”€&gt; ç´§æ€¥åœæ­¢æ¨¡å¼ (0% åŠŸèƒ½)

        - ç«‹å³åœæ­¢æ‰€æœ‰è¿åŠ¨
        - ä¿æŒé€šä¿¡é“¾è·¯
        - ç­‰å¾…äººå·¥å¹²é¢„
</code></pre></div>

<h2 id="165-iso-13485">16.5 äº§ä¸šæ¡ˆä¾‹ç ”ç©¶ï¼šåŒ»ç–—æœºå™¨äºº ISO 13485 åˆè§„</h2>
<h3 id="1651">16.5.1 é¡¹ç›®èƒŒæ™¯</h3>
<p>æŸåŒ»ç–—ç§‘æŠ€å…¬å¸å¼€å‘æ‰‹æœ¯è¾…åŠ©æœºå™¨äººç³»ç»Ÿï¼Œéœ€è¦æ»¡è¶³ ISO 13485 åŒ»ç–—å™¨æ¢°è´¨é‡ç®¡ç†ä½“ç³»å’Œ IEC 62304 åŒ»ç–—å™¨æ¢°è½¯ä»¶ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹æ ‡å‡†ã€‚ç³»ç»ŸåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¸»æ§åˆ¶å™¨</strong>ï¼šå¤„ç†æ‰‹æœ¯è§„åˆ’å’Œæœºå™¨äººæ§åˆ¶</li>
<li><strong>æœºæ¢°è‡‚ç³»ç»Ÿ</strong>ï¼š7 è‡ªç”±åº¦åä½œæœºæ¢°è‡‚</li>
<li><strong>è§†è§‰ç³»ç»Ÿ</strong>ï¼šç«‹ä½“ç›¸æœºå’Œå†…çª¥é•œé›†æˆ</li>
<li><strong>åŠ›åé¦ˆç³»ç»Ÿ</strong>ï¼š6 è½´åŠ›/åŠ›çŸ©ä¼ æ„Ÿå™¨</li>
<li><strong>å®‰å…¨ç›‘æ§ç³»ç»Ÿ</strong>ï¼šç‹¬ç«‹çš„ç¡¬ä»¶å®‰å…¨å›è·¯</li>
</ul>
<h3 id="1652">16.5.2 å®‰å…¨éœ€æ±‚åˆ†æ</h3>
<p>æ ¹æ® ISO 14971 é£é™©ç®¡ç†æ ‡å‡†ï¼Œè¯†åˆ«å…³é”®å®‰å…¨éœ€æ±‚ï¼š</p>
<ol>
<li>
<p><strong>æ‚£è€…å®‰å…¨</strong>
   - ä½ç½®ç²¾åº¦ï¼š&lt; 0.5mm
   - åŠ›é™åˆ¶ï¼š&lt; 10N
   - ç´§æ€¥åœæ­¢æ—¶é—´ï¼š&lt; 100ms</p>
</li>
<li>
<p><strong>æ•°æ®å®‰å…¨</strong>
   - æ‚£è€…æ•°æ®åŠ å¯†å­˜å‚¨
   - å®¡è®¡æ—¥å¿—å®Œæ•´æ€§
   - è®¿é—®æ§åˆ¶å’Œèº«ä»½è®¤è¯</p>
</li>
<li>
<p><strong>ç³»ç»Ÿå¯é æ€§</strong>
   - å¹³å‡æ•…éšœé—´éš”æ—¶é—´ï¼ˆMTBFï¼‰ï¼š&gt; 10000 å°æ—¶
   - æ•…éšœæ¢å¤æ—¶é—´ï¼ˆMTTRï¼‰ï¼š&lt; 30 åˆ†é’Ÿ
   - ç³»ç»Ÿå¯ç”¨æ€§ï¼š&gt; 99.9%</p>
</li>
</ol>
<h3 id="1653">16.5.3 å®‰å…¨æ¶æ„å®ç°</h3>
<p>åˆ†å±‚å®‰å…¨æ¶æ„è®¾è®¡ï¼š</p>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          åº”ç”¨å±‚ï¼ˆæ‰‹æœ¯è§„åˆ’è½¯ä»¶ï¼‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         å®‰å…¨ä¸­é—´ä»¶å±‚ï¼ˆSROS2ï¼‰                â”‚
â”‚   - è®¤è¯ä¸æˆæƒ                              â”‚
â”‚   - æ•°æ®åŠ å¯†                                â”‚
â”‚   - å®¡è®¡æ—¥å¿—                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        å®æ—¶æ§åˆ¶å±‚ï¼ˆRT-PREEMPTï¼‰              â”‚
â”‚   - ç¡®å®šæ€§è°ƒåº¦                              â”‚
â”‚   - æ•…éšœæ£€æµ‹                                â”‚
â”‚   - å®‰å…¨çŠ¶æ€æœº                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       ç¡¬ä»¶å®‰å…¨å±‚ï¼ˆSafety PLCï¼‰               â”‚
â”‚   - ç´§æ€¥åœæ­¢                                â”‚
â”‚   - ä½ç½®é™åˆ¶                                â”‚
â”‚   - åŠ›çŸ©é™åˆ¶                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="1654">16.5.4 è¯Šæ–­ç³»ç»Ÿè®¾è®¡</h3>
<p>å¤šçº§è¯Šæ–­ç³»ç»Ÿå®ç°ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MedicalRobotDiagnostics</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># IEC 62304 è½¯ä»¶å®‰å…¨åˆ†ç±»</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">safety_class</span> <span class="o">=</span> <span class="s2">&quot;Class C&quot;</span>  <span class="c1"># å¯èƒ½å¯¼è‡´æ­»äº¡æˆ–ä¸¥é‡ä¼¤å®³</span>

        <span class="c1"># è¯Šæ–­æ£€æŸ¥é¡¹</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diagnostic_checks</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;critical&#39;</span><span class="p">:</span> <span class="p">[</span>  <span class="c1"># å…³é”®æ£€æŸ¥ï¼Œå¤±è´¥ç«‹å³åœæ­¢</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_emergency_stop</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_force_limits</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_position_accuracy</span>
            <span class="p">],</span>
            <span class="s1">&#39;major&#39;</span><span class="p">:</span> <span class="p">[</span>  <span class="c1"># ä¸»è¦æ£€æŸ¥ï¼Œå¤±è´¥è¿›å…¥å®‰å…¨æ¨¡å¼</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_sensor_redundancy</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_communication_integrity</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_power_supply</span>
            <span class="p">],</span>
            <span class="s1">&#39;minor&#39;</span><span class="p">:</span> <span class="p">[</span>  <span class="c1"># æ¬¡è¦æ£€æŸ¥ï¼Œè®°å½•ä½†ç»§ç»­è¿è¡Œ</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_temperature</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_network_latency</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_log_storage</span>
            <span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">perform_startup_diagnostics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;å¯åŠ¨æ—¶å®Œæ•´è¯Šæ–­æ£€æŸ¥&quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;passed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;critical_failures&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;warnings&#39;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>

        <span class="c1"># æ‰§è¡Œæ‰€æœ‰çº§åˆ«çš„æ£€æŸ¥</span>
        <span class="k">for</span> <span class="n">level</span><span class="p">,</span> <span class="n">checks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostic_checks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="n">checks</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">check</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">status</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s1">&#39;critical&#39;</span><span class="p">:</span>
                        <span class="n">results</span><span class="p">[</span><span class="s1">&#39;passed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="n">results</span><span class="p">[</span><span class="s1">&#39;critical_failures&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">results</span><span class="p">[</span><span class="s1">&#39;warnings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>

        <span class="c1"># ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_diagnostic_report</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>
</code></pre></div>

<h3 id="1655">16.5.5 å®¡è®¡æ—¥å¿—ç³»ç»Ÿ</h3>
<p>ç¬¦åˆ 21 CFR Part 11 çš„å®¡è®¡è¿½è¸ªï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AuditLogger</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_encryption_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_encryption_key</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_database</span> <span class="o">=</span> <span class="s2">&quot;audit_logs.db&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">log_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;è®°å½•å®¡è®¡äº‹ä»¶&quot;&quot;&quot;</span>
        <span class="n">event</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s1">&#39;event_id&#39;</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">hex</span><span class="p">,</span>
            <span class="s1">&#39;event_type&#39;</span><span class="p">:</span> <span class="n">event_type</span><span class="p">,</span>
            <span class="s1">&#39;user_id&#39;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
            <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="n">action</span><span class="p">,</span>
            <span class="s1">&#39;details&#39;</span><span class="p">:</span> <span class="n">details</span><span class="p">,</span>
            <span class="s1">&#39;system_state&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">capture_system_state</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="c1"># è®¡ç®—äº‹ä»¶å“ˆå¸Œï¼ˆé˜²ç¯¡æ”¹ï¼‰</span>
        <span class="n">event</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_hash</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="c1"># åŠ å¯†æ•æ„Ÿä¿¡æ¯</span>
        <span class="n">encrypted_event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encrypt_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="c1"># å­˜å‚¨åˆ°é˜²ç¯¡æ”¹æ•°æ®åº“</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">store_event</span><span class="p">(</span><span class="n">encrypted_event</span><span class="p">)</span>

        <span class="c1"># å®æ—¶åŒæ­¥åˆ°å¤‡ä»½æœåŠ¡å™¨</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replicate_to_backup</span><span class="p">(</span><span class="n">encrypted_event</span><span class="p">)</span>
</code></pre></div>

<h3 id="1656">16.5.6 æ€§èƒ½éªŒè¯ç»“æœ</h3>
<p>ç³»ç»ŸéªŒè¯æµ‹è¯•ç»“æœï¼š</p>
<p>| æµ‹è¯•é¡¹ç›® | è¦æ±‚ | å®æµ‹å€¼ | ç»“æœ |</p>
<table>
<thead>
<tr>
<th>æµ‹è¯•é¡¹ç›®</th>
<th>è¦æ±‚</th>
<th>å®æµ‹å€¼</th>
<th>ç»“æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä½ç½®ç²¾åº¦</td>
<td>&lt; 0.5mm</td>
<td>0.3mm</td>
<td>âœ“</td>
</tr>
<tr>
<td>åŠ›æ§åˆ¶ç²¾åº¦</td>
<td>&lt; 10N</td>
<td>8.5N</td>
<td>âœ“</td>
</tr>
<tr>
<td>ç´§æ€¥åœæ­¢æ—¶é—´</td>
<td>&lt; 100ms</td>
<td>85ms</td>
<td>âœ“</td>
</tr>
<tr>
<td>åŠ å¯†å»¶è¿Ÿ</td>
<td>&lt; 5ms</td>
<td>3.2ms</td>
<td>âœ“</td>
</tr>
<tr>
<td>è¯Šæ–­æ£€æµ‹æ—¶é—´</td>
<td>&lt; 1s</td>
<td>0.8s</td>
<td>âœ“</td>
</tr>
<tr>
<td>ç³»ç»Ÿå¯åŠ¨æ—¶é—´</td>
<td>&lt; 60s</td>
<td>45s</td>
<td>âœ“</td>
</tr>
<tr>
<td>MTBF</td>
<td>&gt; 10000h</td>
<td>12500h</td>
<td>âœ“</td>
</tr>
</tbody>
</table>
<h3 id="1657">16.5.7 ç»éªŒæ•™è®­</h3>
<ol>
<li><strong>æ—©æœŸå®‰å…¨è®¾è®¡</strong>ï¼šå®‰å…¨ä¸æ˜¯äº‹åæ·»åŠ çš„åŠŸèƒ½ï¼Œéœ€è¦ä»æ¶æ„è®¾è®¡å¼€å§‹è€ƒè™‘</li>
<li><strong>å†—ä½™è®¾è®¡</strong>ï¼šå…³é”®åŠŸèƒ½é‡‡ç”¨åŒé‡æˆ–ä¸‰é‡å†—ä½™</li>
<li><strong>ç‹¬ç«‹éªŒè¯</strong>ï¼šå®‰å…¨åŠŸèƒ½éœ€è¦ç‹¬ç«‹çš„éªŒè¯å’Œç¡®è®¤ï¼ˆV&amp;Vï¼‰</li>
<li><strong>æŒç»­ç›‘æ§</strong>ï¼šéƒ¨ç½²åçš„æŒç»­ç›‘æ§å’Œç»´æŠ¤åŒæ ·é‡è¦</li>
<li><strong>æ–‡æ¡£å®Œæ•´æ€§</strong>ï¼šåŒ»ç–—è®¤è¯éœ€è¦å®Œæ•´çš„è®¾è®¡ã€æµ‹è¯•å’ŒéªŒè¯æ–‡æ¡£</li>
</ol>
<h2 id="166-sil">16.6 é«˜çº§è¯é¢˜ï¼šåŠŸèƒ½å®‰å…¨ä¸ SIL è®¤è¯</h2>
<h3 id="1661">16.6.1 åŠŸèƒ½å®‰å…¨æ ‡å‡†ä½“ç³»</h3>
<p>æœºå™¨äººç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½å®‰å…¨æ ‡å‡†ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nv">IEC</span><span class="w"> </span><span class="mi">61508</span><span class="w"> </span><span class="ss">(</span>åŸºç¡€æ ‡å‡†<span class="ss">)</span>
<span class="w">    </span>â”‚
<span class="w">    </span>â”œâ”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">ISO</span><span class="w"> </span><span class="mi">13849</span><span class="w"> </span><span class="ss">(</span>æœºæ¢°å®‰å…¨<span class="ss">)</span>
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">Performance</span><span class="w"> </span><span class="nv">Level</span><span class="w"> </span><span class="ss">(</span><span class="nv">PL</span><span class="ss">)</span>
<span class="w">    </span>â”‚
<span class="w">    </span>â”œâ”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">IEC</span><span class="w"> </span><span class="mi">62061</span><span class="w"> </span><span class="ss">(</span>æœºæ¢°ç”µæ°”å®‰å…¨<span class="ss">)</span>
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">SIL</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">machinery</span>
<span class="w">    </span>â”‚
<span class="w">    </span>â”œâ”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">ISO</span><span class="w"> </span><span class="mi">26262</span><span class="w"> </span><span class="ss">(</span>æ±½è½¦åŠŸèƒ½å®‰å…¨<span class="ss">)</span>
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">ASIL</span><span class="w"> </span><span class="nv">levels</span>
<span class="w">    </span>â”‚
<span class="w">    </span>â””â”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">IEC</span><span class="w"> </span><span class="mi">62304</span><span class="w"> </span><span class="ss">(</span>åŒ»ç–—è½¯ä»¶<span class="ss">)</span>
<span class="w">        </span>â””â”€<span class="o">&gt;</span><span class="w"> </span><span class="nv">Software</span><span class="w"> </span><span class="nv">Safety</span><span class="w"> </span><span class="nv">Classes</span>
</code></pre></div>

<h3 id="1662-sil">16.6.2 SIL ç­‰çº§ç¡®å®š</h3>
<p>å®‰å…¨å®Œæ•´æ€§ç­‰çº§ï¼ˆSafety Integrity Levelï¼‰è¯„ä¼°ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_sil_level</span><span class="p">(</span><span class="n">severity</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">probability</span><span class="p">,</span> <span class="n">avoidance</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    æ ¹æ®é£é™©å‚æ•°è®¡ç®— SIL ç­‰çº§</span>
<span class="sd">    severity: ä¸¥é‡ç¨‹åº¦ (S1-S4)</span>
<span class="sd">    frequency: æš´éœ²é¢‘ç‡ (F1-F2)</span>
<span class="sd">    probability: å±é™©æ¦‚ç‡ (P1-P2)</span>
<span class="sd">    avoidance: é¿å…å¯èƒ½æ€§ (A1-A2)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">risk_matrix</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">(</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL0&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL0&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL1&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL1&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S2&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL1&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S2&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL1&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S2&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL2&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S2&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL2&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S3&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL2&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S3&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL2&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S3&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL3&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S3&#39;</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL3&#39;</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">&#39;S4&#39;</span><span class="p">,</span> <span class="s1">&#39;F2&#39;</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">):</span> <span class="s1">&#39;SIL4&#39;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">risk_matrix</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">severity</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">probability</span><span class="p">,</span> <span class="n">avoidance</span><span class="p">),</span> <span class="s1">&#39;SIL3&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="1663">16.6.3 å®‰å…¨åŠŸèƒ½å®ç°</h3>
<p>SIL2 çº§åˆ«çš„å®‰å…¨åŠŸèƒ½å®ç°ç¤ºä¾‹ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SafetyFunction</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sil_level</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sil_level</span> <span class="o">=</span> <span class="n">sil_level</span>

        <span class="c1"># æ ¹æ® SIL çº§åˆ«é…ç½®å†—ä½™</span>
        <span class="k">if</span> <span class="n">sil_level</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">redundancy</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># åŒé€šé“</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">redundancy</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># å•é€šé“</span>

        <span class="c1"># è¯Šæ–­è¦†ç›–ç‡è¦æ±‚</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diagnostic_coverage</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>  <span class="c1"># SIL1: 60% æœ€å°è¯Šæ–­è¦†ç›–ç‡</span>
            <span class="mi">2</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>  <span class="c1"># SIL2: 90% </span>
            <span class="mi">3</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>  <span class="c1"># SIL3: 99%</span>
            <span class="mi">4</span><span class="p">:</span> <span class="mi">99</span>   <span class="c1"># SIL4: 99%</span>
        <span class="p">}[</span><span class="n">sil_level</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_safety_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;æ‰§è¡Œå®‰å…¨åŠŸèƒ½ï¼Œå¸¦å†—ä½™å’Œè¯Šæ–­&quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># å†—ä½™æ‰§è¡Œ</span>
        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">redundancy</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_channel</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

        <span class="c1"># ç»“æœæ¯”è¾ƒï¼ˆ2oo2 æˆ– 1oo2 æŠ•ç¥¨ï¼‰</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">redundancy</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_results</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger_safe_state</span><span class="p">()</span>

        <span class="c1"># è¯Šæ–­æ£€æŸ¥</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_diagnostics</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger_safe_state</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>

<h3 id="1664">16.6.4 æ•…éšœæ¦‚ç‡è®¡ç®—</h3>
<p>è®¡ç®—å±é™©æ•…éšœæ¦‚ç‡ï¼ˆPFH - Probability of Dangerous Failure per Hourï¼‰ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_pfh</span><span class="p">(</span><span class="n">lambda_d</span><span class="p">,</span> <span class="n">dc</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">t_proof</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    è®¡ç®—æ¯å°æ—¶å±é™©æ•…éšœæ¦‚ç‡</span>
<span class="sd">    lambda_d: å±é™©æ•…éšœç‡</span>
<span class="sd">    dc: è¯Šæ–­è¦†ç›–ç‡ (0-1)</span>
<span class="sd">    beta: å…±å› æ•…éšœæ¯”ä¾‹ (0-1)</span>
<span class="sd">    t_proof: éªŒè¯æµ‹è¯•é—´éš”ï¼ˆå°æ—¶ï¼‰</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># å•é€šé“ PFH</span>
    <span class="n">pfh_single</span> <span class="o">=</span> <span class="n">lambda_d</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">dc</span><span class="p">)</span> <span class="o">*</span> <span class="n">t_proof</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="c1"># è€ƒè™‘å…±å› æ•…éšœçš„åŒé€šé“ PFH</span>
    <span class="n">pfh_dual</span> <span class="o">=</span> <span class="p">(</span><span class="n">beta</span> <span class="o">*</span> <span class="n">lambda_d</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">beta</span><span class="p">)</span> <span class="o">*</span> <span class="n">lambda_d</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">t_proof</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">dc</span><span class="p">)</span>

    <span class="c1"># SIL ç­‰çº§å¯¹åº”çš„ PFH é™å€¼</span>
    <span class="n">sil_limits</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">:</span> <span class="mf">1e-5</span><span class="p">,</span>  <span class="c1"># SIL1: 10^-5 åˆ° 10^-6</span>
        <span class="mi">2</span><span class="p">:</span> <span class="mf">1e-6</span><span class="p">,</span>  <span class="c1"># SIL2: 10^-6 åˆ° 10^-7</span>
        <span class="mi">3</span><span class="p">:</span> <span class="mf">1e-7</span><span class="p">,</span>  <span class="c1"># SIL3: 10^-7 åˆ° 10^-8</span>
        <span class="mi">4</span><span class="p">:</span> <span class="mf">1e-8</span>   <span class="c1"># SIL4: 10^-8 åˆ° 10^-9</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">pfh_dual</span>
</code></pre></div>

<h3 id="1665-v-model">16.6.5 è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼ˆV-Modelï¼‰</h3>
<p>ç¬¦åˆ IEC 61508-3 çš„è½¯ä»¶å¼€å‘æµç¨‹ï¼š</p>
<div class="codehilite"><pre><span></span><code>éœ€æ±‚åˆ†æ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; éªŒæ”¶æµ‹è¯•
    â”‚                              â†‘
    â†“                              â”‚
ç³»ç»Ÿè®¾è®¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; ç³»ç»Ÿé›†æˆæµ‹è¯•
    â”‚                          â†‘
    â†“                          â”‚
æ¨¡å—è®¾è®¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; æ¨¡å—æµ‹è¯•
    â”‚                      â†‘
    â†“                      â”‚
ç¼–ç å®ç° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; å•å…ƒæµ‹è¯•

æ¯ä¸ªé˜¶æ®µçš„å®‰å…¨æ´»åŠ¨ï¼š

- éœ€æ±‚ï¼šHAZOP, FMEA
- è®¾è®¡ï¼šFTA, å®‰å…¨åˆ†æ
- å®ç°ï¼šç¼–ç æ ‡å‡†ï¼ˆMISRAï¼‰
- æµ‹è¯•ï¼šè¦†ç›–ç‡åˆ†æï¼Œæ•…éšœæ³¨å…¥
- éªŒè¯ï¼šç‹¬ç«‹ V&amp;V
</code></pre></div>

<h3 id="1666">16.6.6 è®¤è¯æµç¨‹ä¸æ–‡æ¡£</h3>
<p>SIL è®¤è¯æ‰€éœ€æ–‡æ¡£æ¸…å•ï¼š</p>
<ol>
<li><strong>å®‰å…¨éœ€æ±‚è§„èŒƒï¼ˆSRSï¼‰</strong></li>
<li><strong>å®‰å…¨éªŒè¯è®¡åˆ’ï¼ˆSVPï¼‰</strong></li>
<li><strong>ç¡¬ä»¶æ•…éšœå®¹é”™åˆ†æ</strong></li>
<li><strong>è½¯ä»¶å®‰å…¨åˆ†ææŠ¥å‘Š</strong></li>
<li><strong>æµ‹è¯•æŠ¥å‘Šä¸è¦†ç›–ç‡åˆ†æ</strong></li>
<li><strong>åŠŸèƒ½å®‰å…¨ç®¡ç†è®¡åˆ’</strong></li>
<li><strong>å®‰å…¨æ¡ˆä¾‹ï¼ˆSafety Caseï¼‰</strong></li>
</ol>
<p>è®¤è¯æœºæ„è¯„ä¼°è¦ç‚¹ï¼š</p>
<ul>
<li>å¼€å‘æµç¨‹ç¬¦åˆæ€§</li>
<li>æŠ€æœ¯æªæ–½å……åˆ†æ€§</li>
<li>æ–‡æ¡£å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li>
<li>ç‹¬ç«‹è¯„ä¼°å’Œæµ‹è¯•</li>
<li>é…ç½®ç®¡ç†å’Œå˜æ›´æ§åˆ¶</li>
</ul>
<h2 id="167">16.7 æœ¬ç« å°ç»“</h2>
<p>æœ¬ç« ç³»ç»Ÿä»‹ç»äº† ROS2 çš„å®‰å…¨æ€§å’Œè¯Šæ–­ç³»ç»Ÿï¼Œæ¶µç›–äº†ä»åŸºç¡€å®‰å…¨æ¡†æ¶åˆ°é«˜çº§åŠŸèƒ½å®‰å…¨è®¤è¯çš„å®Œæ•´çŸ¥è¯†ä½“ç³»ï¼š</p>
<h3 id="_1">å…³é”®æ¦‚å¿µæ€»ç»“</h3>
<ol>
<li>
<p><strong>SROS2 å®‰å…¨æ¡†æ¶</strong>
   - åŸºäº DDS Security è§„èŒƒï¼Œæä¾›è®¤è¯ã€æˆæƒã€åŠ å¯†ä¸‰é‡ä¿æŠ¤
   - PKI ä½“ç³»ç®¡ç†èŠ‚ç‚¹èº«ä»½å’Œè®¿é—®æƒé™
   - æ”¯æŒç»†ç²’åº¦çš„è¯é¢˜ã€æœåŠ¡ã€å‚æ•°è®¿é—®æ§åˆ¶</p>
</li>
<li>
<p><strong>åŠ å¯†æœºåˆ¶</strong>
   - å¯¹ç§°åŠ å¯†ä¿æŠ¤æ•°æ®ä¼ è¾“ï¼šAES-GCMã€ChaCha20-Poly1305
   - éå¯¹ç§°åŠ å¯†è¿›è¡Œå¯†é’¥äº¤æ¢ï¼šRSAã€ECDSAã€EdDSA
   - æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰ç¡®ä¿å®Œæ•´æ€§</p>
</li>
<li>
<p><strong>è¯Šæ–­ç³»ç»Ÿæ¶æ„</strong>
   - æ ‡å‡†åŒ–çš„è¯Šæ–­æ¶ˆæ¯æ ¼å¼
   - åˆ†å±‚çš„è¯Šæ–­èšåˆå™¨è®¾è®¡
   - å®æ—¶å¥åº·ç›‘æ§å’Œæ•…éšœæ£€æµ‹</p>
</li>
<li>
<p><strong>æ•…éšœå¤„ç†ç­–ç•¥</strong>
   - å¤šçº§æ•…éšœæ¢å¤æœºåˆ¶
   - ä¼˜é›…é™çº§å’Œæ•…éšœéš”ç¦»
   - ç´§æ€¥åœæ­¢å’Œå®‰å…¨çŠ¶æ€è½¬æ¢</p>
</li>
<li>
<p><strong>åŠŸèƒ½å®‰å…¨è®¤è¯</strong>
   - SIL ç­‰çº§è¯„ä¼°ï¼š$\text{SIL} = f(\text{Severity}, \text{Frequency}, \text{Probability}, \text{Avoidance})$
   - å±é™©æ•…éšœæ¦‚ç‡è®¡ç®—ï¼š$\text{PFH} = \beta \lambda_d + (1-\beta)\lambda_d^2 t_{proof}(1-DC)$
   - V-Model å¼€å‘æµç¨‹å’Œç‹¬ç«‹éªŒè¯</p>
</li>
</ol>
<h3 id="_2">å…³é”®å…¬å¼å›é¡¾</h3>
<ol>
<li>
<p><strong>è¯Šæ–­è¦†ç›–ç‡ï¼ˆDCï¼‰</strong>ï¼š
   $$DC = \frac{\lambda_{dd}}{\lambda_{d}} = \frac{\text{æ£€æµ‹åˆ°çš„å±é™©æ•…éšœç‡}}{\text{æ€»å±é™©æ•…éšœç‡}}$$</p>
</li>
<li>
<p><strong>å¹³å‡å±é™©æ•…éšœæ—¶é—´ï¼ˆMTTF_dï¼‰</strong>ï¼š
$$MTTF_d = \frac{1}{\lambda_d \cdot (1 - DC)}$$</p>
</li>
<li>
<p><strong>ç³»ç»Ÿå¯ç”¨æ€§ï¼ˆAï¼‰</strong>ï¼š
$$A = \frac{MTBF}{MTBF + MTTR} = \frac{\text{å¹³å‡æ•…éšœé—´éš”æ—¶é—´}}{\text{å¹³å‡æ•…éšœé—´éš”æ—¶é—´} + \text{å¹³å‡ä¿®å¤æ—¶é—´}}$$</p>
</li>
<li>
<p><strong>å†—ä½™ç³»ç»Ÿå¯é æ€§ï¼ˆå¹¶è”ï¼‰</strong>ï¼š
$$R_{system} = 1 - \prod_{i=1}^{n}(1 - R_i)$$</p>
</li>
<li>
<p><strong>å…±å› æ•…éšœå› å­ï¼ˆÎ²ï¼‰å½±å“</strong>ï¼š
$$\lambda_{sys} = \beta \cdot \lambda + (1-\beta) \cdot \frac{\lambda^2}{2 \cdot \mu}$$</p>
</li>
</ol>
<h2 id="168">16.8 ç»ƒä¹ é¢˜</h2>
<h3 id="_3">åŸºç¡€é¢˜</h3>
<p><strong>ç»ƒä¹  16.1</strong>ï¼šè®¾è®¡ä¸€ä¸ª SROS2 æƒé™é…ç½®æ–‡ä»¶ï¼Œå®ç°ä»¥ä¸‹è®¿é—®æ§åˆ¶è¦æ±‚ï¼š</p>
<ul>
<li>navigation èŠ‚ç‚¹å¯ä»¥å‘å¸ƒ /cmd_velï¼Œè®¢é˜… /scan å’Œ /map</li>
<li>perception èŠ‚ç‚¹å¯ä»¥å‘å¸ƒ /scanï¼Œä½†ä¸èƒ½æ§åˆ¶æœºå™¨äººè¿åŠ¨</li>
<li>monitor èŠ‚ç‚¹åªèƒ½è®¢é˜…æ‰€æœ‰è¯é¢˜ï¼Œä¸èƒ½å‘å¸ƒ</li>
</ul>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘ä½¿ç”¨ XML æ ¼å¼çš„ permissions æ–‡ä»¶ï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºç‹¬ç«‹çš„ grant è§„åˆ™ã€‚æ³¨æ„åŒºåˆ† publish å’Œ subscribe æƒé™ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>åˆ›å»ºä¸‰ä¸ªç‹¬ç«‹çš„ grant è§„åˆ™ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªã€‚navigation èŠ‚ç‚¹åŒæ—¶å…·æœ‰å‘å¸ƒå’Œè®¢é˜…æƒé™ï¼Œperception åªæœ‰ç‰¹å®šå‘å¸ƒæƒé™ï¼Œmonitor ä½¿ç”¨é€šé…ç¬¦è®¢é˜…æ‰€æœ‰è¯é¢˜ã€‚å…³é”®æ˜¯æ­£ç¡®è®¾ç½® subject_name å’Œ allow_ruleã€‚</p>
</details>
<p><strong>ç»ƒä¹  16.2</strong>ï¼šå®ç°ä¸€ä¸ªè¯Šæ–­æ›´æ–°å™¨ï¼Œç›‘æ§æœºå™¨äººç”µæ± çŠ¶æ€ï¼ŒåŒ…æ‹¬ç”µå‹ã€ç”µæµã€æ¸©åº¦å’Œå‰©ä½™å®¹é‡ã€‚å½“ç”µå‹ä½äº 20% æ—¶æŠ¥è­¦ï¼Œä½äº 10% æ—¶è§¦å‘ç´§æ€¥æ¨¡å¼ã€‚</p>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>ä½¿ç”¨ diagnostic_updater åŒ…ï¼Œåˆ›å»ºå¤šä¸ªè¯Šæ–­ä»»åŠ¡å‡½æ•°ã€‚æ ¹æ®ä¸åŒé˜ˆå€¼è®¾ç½® DiagnosticStatus çš„çº§åˆ«ï¼ˆOKã€WARNã€ERRORï¼‰ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>åˆ›å»º BatteryDiagnostics ç±»ï¼ŒåŒ…å« check_voltageã€check_currentã€check_temperature å’Œ check_capacity å››ä¸ªè¯Šæ–­å‡½æ•°ã€‚ä½¿ç”¨é˜ˆå€¼åˆ¤æ–­è®¾ç½®ä¸åŒçš„è¯Šæ–­çº§åˆ«ï¼Œå¹¶åœ¨ summary ä¸­æä¾›æ¸…æ™°çš„çŠ¶æ€æè¿°ã€‚</p>
</details>
<p><strong>ç»ƒä¹  16.3</strong>ï¼šè®¡ç®—ä¸€ä¸ªå®‰å…¨åŠŸèƒ½çš„ SIL ç­‰çº§ï¼Œç»™å®šæ¡ä»¶ï¼šå¯èƒ½é€ æˆæ°¸ä¹…æ€§ä¼¤å®³ï¼ˆS3ï¼‰ï¼Œé¢‘ç¹æš´éœ²ï¼ˆF2ï¼‰ï¼Œå±é™©å‘ç”Ÿæ¦‚ç‡é«˜ï¼ˆP2ï¼‰ï¼Œå‡ ä¹ä¸å¯èƒ½é¿å…ï¼ˆA2ï¼‰ã€‚</p>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>ä½¿ç”¨ IEC 61508 çš„é£é™©å›¾æ–¹æ³•ï¼Œæ ¹æ®å››ä¸ªå‚æ•°æŸ¥æ‰¾å¯¹åº”çš„ SIL ç­‰çº§ã€‚S3 è¡¨ç¤ºä¸¥é‡ä¼¤å®³ï¼Œéœ€è¦è¾ƒé«˜çš„å®‰å…¨å®Œæ•´æ€§ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>æ ¹æ®é£é™©çŸ©é˜µï¼ŒS3 + F2 + P2 + A2 çš„ç»„åˆå¯¹åº” SIL3 çº§åˆ«ã€‚è¿™æ„å‘³ç€è¯¥å®‰å…¨åŠŸèƒ½çš„å±é™©æ•…éšœæ¦‚ç‡å¿…é¡»ä½äº 10^-7 åˆ° 10^-8 æ¯å°æ—¶ã€‚</p>
</details>
<h3 id="_4">æŒ‘æˆ˜é¢˜</h3>
<p><strong>ç»ƒä¹  16.4</strong>ï¼šè®¾è®¡ä¸€ä¸ªåˆ†å¸ƒå¼æ•…éšœæ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ£€æµ‹ä»¥ä¸‹å¼‚å¸¸ï¼š</p>
<ul>
<li>èŠ‚ç‚¹å´©æºƒï¼ˆ3 ç§’å†…æ— å¿ƒè·³ï¼‰</li>
<li>ç½‘ç»œåˆ†åŒºï¼ˆèŠ‚ç‚¹é—´é€šä¿¡ä¸­æ–­ï¼‰</li>
<li>æ—¶é’Ÿä¸åŒæ­¥ï¼ˆæ—¶é—´åå·® &gt; 100msï¼‰</li>
<li>Byzantine æ•…éšœï¼ˆèŠ‚ç‚¹å‘é€çŸ›ç›¾ä¿¡æ¯ï¼‰</li>
</ul>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘ä½¿ç”¨å¿ƒè·³æœºåˆ¶ã€åŒå‘é€šä¿¡æ£€æŸ¥ã€NTP æ—¶é—´åŒæ­¥ç›‘æ§ï¼Œä»¥åŠæ¶ˆæ¯ä¸€è‡´æ€§éªŒè¯ã€‚å¯èƒ½éœ€è¦å®ç°æŠ•ç¥¨æœºåˆ¶å¤„ç† Byzantine æ•…éšœã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>å®ç°åŒ…å«å››ä¸ªå­ç³»ç»Ÿï¼š1) å¿ƒè·³ç›‘æ§å™¨ä½¿ç”¨å®šæ—¶å™¨å’Œè¶…æ—¶æ£€æµ‹ï¼›2) ç½‘ç»œæ‹“æ‰‘ç›‘æ§é€šè¿‡å…¨è¿æ¥æµ‹è¯•æ£€æµ‹åˆ†åŒºï¼›3) æ—¶é—´åŒæ­¥ç›‘æ§æ¯”è¾ƒå„èŠ‚ç‚¹æ—¶é—´æˆ³ï¼›4) Byzantine æ£€æµ‹é€šè¿‡ 2f+1 æŠ•ç¥¨æœºåˆ¶ï¼Œå…¶ä¸­ f æ˜¯å¯å®¹å¿çš„æ•…éšœèŠ‚ç‚¹æ•°ã€‚æ•´ä½“é‡‡ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œå¼‚å¸¸è§¦å‘ç›¸åº”çš„æ¢å¤ç­–ç•¥ã€‚</p>
</details>
<p><strong>ç»ƒä¹  16.5</strong>ï¼šä¸ºä¸€ä¸ªåä½œæœºå™¨äººè®¾è®¡ç¬¦åˆ ISO 10218 æ ‡å‡†çš„å®‰å…¨ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>é€Ÿåº¦å’Œåˆ†ç¦»ç›‘æ§ï¼ˆSSMï¼‰</li>
<li>åŠŸç‡å’ŒåŠ›é™åˆ¶ï¼ˆPFLï¼‰  </li>
<li>å®‰å…¨é¢å®šç›‘æ§åœæ­¢ï¼ˆSOSï¼‰</li>
<li>ç´§æ€¥åœæ­¢ï¼ˆCategory 0 å’Œ Category 1ï¼‰</li>
</ul>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>ISO 10218 å®šä¹‰äº†å·¥ä¸šæœºå™¨äººçš„å®‰å…¨è¦æ±‚ã€‚è€ƒè™‘ä¼ æ„Ÿå™¨å†—ä½™ã€å®‰å…¨æ§åˆ¶å™¨ã€ç‹¬ç«‹çš„å®‰å…¨å›è·¯ã€‚Category 0 æ˜¯ç«‹å³æ–­ç”µï¼ŒCategory 1 æ˜¯å—æ§åœæ­¢åæ–­ç”µã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>è®¾è®¡åŒ…æ‹¬ï¼š1) SSM ä½¿ç”¨æ¿€å…‰æ‰«æä»ªå’Œè§†è§‰ç³»ç»Ÿç›‘æ§äººæœºè·ç¦»ï¼ŒåŠ¨æ€è°ƒæ•´é€Ÿåº¦ï¼›2) PFL é€šè¿‡åŠ›/åŠ›çŸ©ä¼ æ„Ÿå™¨å’Œç”µæµç›‘æ§é™åˆ¶æ¥è§¦åŠ›åœ¨ 150N ä»¥ä¸‹ï¼›3) SOS ä¿æŒä½ç½®ä¼ºæœä½†ç¦æ­¢è¿åŠ¨å‘½ä»¤ï¼›4) ç´§æ€¥åœæ­¢é‡‡ç”¨ç¡¬ä»¶å®‰å…¨ç»§ç”µå™¨ï¼ŒCategory 0 ç›´æ¥åˆ‡æ–­åŠ¨åŠ›ï¼ŒCategory 1 å…ˆå‡é€Ÿåˆ°é›¶å†æ–­ç”µã€‚æ‰€æœ‰å®‰å…¨åŠŸèƒ½é€šè¿‡ç‹¬ç«‹çš„å®‰å…¨ PLC å®ç°ï¼Œæ»¡è¶³ PLd æ€§èƒ½ç­‰çº§ã€‚</p>
</details>
<p><strong>ç»ƒä¹  16.6</strong>ï¼šå®ç°ä¸€ä¸ªç¬¦åˆ 21 CFR Part 11 çš„å®¡è®¡æ—¥å¿—ç³»ç»Ÿï¼Œè¦æ±‚ï¼š</p>
<ul>
<li>ç”µå­ç­¾åå’Œæ—¶é—´æˆ³</li>
<li>é˜²ç¯¡æ”¹ï¼ˆä½¿ç”¨å“ˆå¸Œé“¾ï¼‰</li>
<li>è‡ªåŠ¨å¤‡ä»½å’Œå½’æ¡£</li>
<li>å®¡è®¡è¿½è¸ªæŠ¥å‘Šç”Ÿæˆ</li>
</ul>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>21 CFR Part 11 æ˜¯ FDA å¯¹ç”µå­è®°å½•å’Œç”µå­ç­¾åçš„è§„å®šã€‚éœ€è¦è€ƒè™‘æ•°æ®å®Œæ•´æ€§ã€å¯è¿½æº¯æ€§å’Œé•¿æœŸä¿å­˜ã€‚å“ˆå¸Œé“¾ç¡®ä¿è®°å½•é¡ºåºä¸å¯æ›´æ”¹ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>å®ç°åŒ…æ‹¬ï¼š1) æ¯æ¡è®°å½•åŒ…å« UUIDã€æ—¶é—´æˆ³ã€ç”¨æˆ· IDã€æ“ä½œæè¿°å’Œæ•°å­—ç­¾åï¼›2) ä½¿ç”¨ SHA-256 å“ˆå¸Œé“¾ï¼Œæ¯æ¡è®°å½•åŒ…å«å‰ä¸€æ¡çš„å“ˆå¸Œå€¼ï¼›3) å®æ—¶å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå®šæœŸå½’æ¡£åˆ°ä¸å¯æ›´æ”¹ä»‹è´¨ï¼›4) æä¾›æŸ¥è¯¢æ¥å£ç”Ÿæˆåˆè§„æŠ¥å‘Šï¼ŒåŒ…æ‹¬ç”¨æˆ·æ´»åŠ¨ã€ç³»ç»Ÿå˜æ›´ã€æ•°æ®è®¿é—®ç­‰ã€‚æ‰€æœ‰æ•æ„Ÿæ•°æ®ä½¿ç”¨ AES-256 åŠ å¯†å­˜å‚¨ã€‚</p>
</details>
<p><strong>ç»ƒä¹  16.7</strong>ï¼šåˆ†æä¸€ä¸ª SIL2 å®‰å…¨åŠŸèƒ½çš„ç¡¬ä»¶æ¶æ„ï¼Œç»™å®šç»„ä»¶æ•…éšœç‡ï¼š</p>
<ul>
<li>ä¼ æ„Ÿå™¨ï¼šÎ» = 10^-6 /hï¼Œè¯Šæ–­è¦†ç›–ç‡ 90%</li>
<li>é€»è¾‘æ§åˆ¶å™¨ï¼šÎ» = 5Ã—10^-7 /hï¼Œè¯Šæ–­è¦†ç›–ç‡ 95%</li>
<li>æ‰§è¡Œå™¨ï¼šÎ» = 2Ã—10^-6 /hï¼Œè¯Šæ–­è¦†ç›–ç‡ 85%
è®¡ç®—ç³»ç»Ÿçš„ PFH å€¼ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦æ»¡è¶³ SIL2 è¦æ±‚ã€‚</li>
</ul>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>SIL2 è¦æ±‚ PFH åœ¨ 10^-6 åˆ° 10^-7 ä¹‹é—´ã€‚è€ƒè™‘ä½¿ç”¨ 1oo2ï¼ˆäºŒé€‰ä¸€ï¼‰æˆ– 2oo3ï¼ˆä¸‰é€‰äºŒï¼‰æ¶æ„æé«˜å¯é æ€§ã€‚å…±å› æ•…éšœå› å­ Î² é€šå¸¸å– 0.02-0.1ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>å•é€šé“ PFH = (10^-6 Ã— 0.1) + (5Ã—10^-7 Ã— 0.05) + (2Ã—10^-6 Ã— 0.15) = 4.25Ã—10^-7 /hï¼Œæ»¡è¶³ SIL2 ä½†æ¥è¿‘ä¸Šé™ã€‚é‡‡ç”¨ 1oo2 æ¶æ„å¹¶è€ƒè™‘ Î²=0.05 çš„å…±å› æ•…éšœï¼ŒåŒé€šé“ PFH â‰ˆ 0.05Ã—4.25Ã—10^-7 + 0.95Ã—(4.25Ã—10^-7)^2Ã—8760Ã—0.5 â‰ˆ 2.13Ã—10^-8 /hï¼Œå……åˆ†æ»¡è¶³ SIL2 è¦æ±‚å¹¶æ¥è¿‘ SIL3ã€‚</p>
</details>
<p><strong>ç»ƒä¹  16.8</strong>ï¼šè®¾è®¡ä¸€ä¸ªæœºå™¨äººç³»ç»Ÿçš„ä¼˜é›…é™çº§ç­–ç•¥ï¼Œç³»ç»ŸåŒ…å«æ¿€å…‰é›·è¾¾ã€ç›¸æœºã€IMUã€ç¼–ç å™¨å››ä¸ªä¼ æ„Ÿå™¨ã€‚å®šä¹‰åœ¨ä¸åŒä¼ æ„Ÿå™¨å¤±æ•ˆç»„åˆä¸‹çš„é™çº§æ¨¡å¼å’ŒåŠŸèƒ½é™åˆ¶ã€‚</p>
<details>
<summary>æç¤ºï¼ˆHintï¼‰</summary>
<p>è€ƒè™‘ä¼ æ„Ÿå™¨çš„äº’è¡¥æ€§å’Œå†—ä½™æ€§ã€‚æ¿€å…‰é›·è¾¾å’Œç›¸æœºå¯ä»¥äº’ä¸ºå¤‡ä»½è¿›è¡Œéšœç¢æ£€æµ‹ï¼ŒIMU å’Œç¼–ç å™¨å¯ä»¥èåˆè¿›è¡Œå®šä½ã€‚å®šä¹‰æ¸…æ™°çš„é™çº§çº§åˆ«å’Œè§¦å‘æ¡ä»¶ã€‚</p>
</details>
<details>
<summary>å‚è€ƒç­”æ¡ˆ</summary>
<p>é™çº§ç­–ç•¥åˆ†ä¸ºå››çº§ï¼š</p>
<ol>
<li><strong>æ­£å¸¸æ¨¡å¼</strong>ï¼ˆæ‰€æœ‰ä¼ æ„Ÿå™¨æ­£å¸¸ï¼‰ï¼šå…¨åŠŸèƒ½ï¼Œæœ€é«˜é€Ÿåº¦ 2m/s</li>
<li><strong>é™çº§ 1</strong>ï¼ˆç›¸æœºæˆ–æ¿€å…‰é›·è¾¾ä¹‹ä¸€å¤±æ•ˆï¼‰ï¼šé™é€Ÿè‡³ 1m/sï¼Œå¢åŠ å®‰å…¨è·ç¦»ï¼Œä½¿ç”¨å‰©ä½™ä¼ æ„Ÿå™¨</li>
<li><strong>é™çº§ 2</strong>ï¼ˆIMU æˆ–ç¼–ç å™¨å¤±æ•ˆï¼Œæˆ–æ„ŸçŸ¥ä¼ æ„Ÿå™¨éƒ½å¤±æ•ˆï¼‰ï¼šä»…é™å·²çŸ¥ç¯å¢ƒå¯¼èˆªï¼Œé€Ÿåº¦ 0.5m/sï¼Œç¦æ­¢è‡ªä¸»æ¢ç´¢</li>
<li><strong>å®‰å…¨æ¨¡å¼</strong>ï¼ˆå¤šé‡ä¼ æ„Ÿå™¨å¤±æ•ˆï¼‰ï¼šç«‹å³åœæ­¢ï¼Œä»…å…è®¸è¿œç¨‹é¥æ§ï¼Œç­‰å¾…ç»´æŠ¤</li>
</ol>
<p>æ¯çº§è½¬æ¢åŒ…å«çŠ¶æ€éªŒè¯ã€å‚æ•°è°ƒæ•´å’Œæ“ä½œå‘˜é€šçŸ¥ã€‚å®ç°è‡ªåŠ¨æ¢å¤æ£€æµ‹ï¼Œä¼ æ„Ÿå™¨æ¢å¤åå¯ä»¥å‡çº§è¿è¡Œæ¨¡å¼ã€‚</p>
</details>
<h2 id="169">16.9 å¸¸è§é™·é˜±ä¸é”™è¯¯</h2>
<h3 id="_5">å®‰å…¨é…ç½®é”™è¯¯</h3>
<ol>
<li>
<p><strong>è¿‡åº¦ä¿¡ä»»é»˜è®¤é…ç½®</strong>
   - âŒ é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨ DDS é»˜è®¤é…ç½®æŠ•å…¥ç”Ÿäº§
   - âœ… æ­£ç¡®ï¼šæ˜ç¡®é…ç½®å®‰å…¨ç­–ç•¥ï¼Œç¦ç”¨ä¸å¿…è¦çš„åŠŸèƒ½</p>
</li>
<li>
<p><strong>å¯†é’¥ç®¡ç†ä¸å½“</strong>
   - âŒ é”™è¯¯ï¼šå°†ç§é’¥å­˜å‚¨åœ¨ä»£ç ä»“åº“ä¸­
   - âœ… æ­£ç¡®ï¼šä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼Œå®šæœŸè½®æ¢å¯†é’¥</p>
</li>
<li>
<p><strong>æƒé™è¿‡åº¦æˆäºˆ</strong>
   - âŒ é”™è¯¯ï¼šä¸ºæ–¹ä¾¿èµ·è§ç»™èŠ‚ç‚¹æˆäºˆæ‰€æœ‰æƒé™
   - âœ… æ­£ç¡®ï¼šéµå¾ªæœ€å°æƒé™åŸåˆ™ï¼Œä»…æˆäºˆå¿…è¦æƒé™</p>
</li>
</ol>
<h3 id="_6">è¯Šæ–­ç³»ç»Ÿé™·é˜±</h3>
<ol start="4">
<li>
<p><strong>è¯Šæ–­é¢‘ç‡ä¸å½“</strong>
   - âŒ é”™è¯¯ï¼šè¯Šæ–­æ£€æŸ¥é¢‘ç‡è¿‡é«˜å¯¼è‡´ç³»ç»Ÿè´Ÿè½½è¿‡é‡
   - âœ… æ­£ç¡®ï¼šæ ¹æ®æ•…éšœæ¨¡å¼åˆç†è®¾ç½®æ£€æŸ¥é¢‘ç‡</p>
</li>
<li>
<p><strong>å¿½ç•¥è¯Šæ–­çº§è”</strong>
   - âŒ é”™è¯¯ï¼šç‹¬ç«‹å¤„ç†æ¯ä¸ªè¯Šæ–­ä¿¡æ¯
   - âœ… æ­£ç¡®ï¼šè¯†åˆ«æ•…éšœä¼ æ’­è·¯å¾„ï¼Œé¿å…è¯¯æŠ¥é£æš´</p>
</li>
<li>
<p><strong>ç¼ºå°‘è¯Šæ–­è‡ªæ£€</strong>
   - âŒ é”™è¯¯ï¼šå‡è®¾è¯Šæ–­ç³»ç»Ÿæœ¬èº«ä¸ä¼šå¤±æ•ˆ
   - âœ… æ­£ç¡®ï¼šå®ç°è¯Šæ–­ç³»ç»Ÿçš„è‡ªæ£€æœºåˆ¶</p>
</li>
</ol>
<h3 id="_7">æ•…éšœå¤„ç†è¯¯åŒº</h3>
<ol start="7">
<li>
<p><strong>æ¢å¤ç­–ç•¥è¿‡äºæ¿€è¿›</strong>
   - âŒ é”™è¯¯ï¼šæ£€æµ‹åˆ°æ•…éšœç«‹å³é‡å¯æ‰€æœ‰æœåŠ¡
   - âœ… æ­£ç¡®ï¼šåˆ†çº§æ¢å¤ï¼Œä»æœ€å°å¹²é¢„å¼€å§‹</p>
</li>
<li>
<p><strong>å¿½ç•¥æ•…éšœå…³è”æ€§</strong>
   - âŒ é”™è¯¯ï¼šç‹¬ç«‹å¤„ç†æ¯ä¸ªæ•…éšœ
   - âœ… æ­£ç¡®ï¼šåˆ†ææ ¹å› ï¼Œé¿å…å¤„ç†ç—‡çŠ¶è€ŒéåŸå› </p>
</li>
<li>
<p><strong>ç¼ºå°‘æ•…éšœéš”ç¦»</strong>
   - âŒ é”™è¯¯ï¼šä¸€ä¸ªæ¨¡å—æ•…éšœå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒ
   - âœ… æ­£ç¡®ï¼šå®ç°æ•…éšœåŸŸéš”ç¦»ï¼Œé™åˆ¶æ•…éšœä¼ æ’­</p>
</li>
</ol>
<h3 id="_8">åŠŸèƒ½å®‰å…¨è¯¯è§£</h3>
<ol start="10">
<li>
<p><strong>æ··æ·† SIL å’Œ PL</strong></p>
<ul>
<li>âŒ é”™è¯¯ï¼šå°† IEC 61508 çš„ SIL å’Œ ISO 13849 çš„ PL äº’æ¢ä½¿ç”¨</li>
<li>âœ… æ­£ç¡®ï¼šæ ¹æ®åº”ç”¨é¢†åŸŸé€‰æ‹©æ­£ç¡®çš„æ ‡å‡†</li>
</ul>
</li>
<li>
<p><strong>å¿½è§†å…±å› æ•…éšœ</strong></p>
<ul>
<li>âŒ é”™è¯¯ï¼šç®€å•å¤åˆ¶ç»„ä»¶è®¤ä¸ºå°±å®ç°äº†å†—ä½™</li>
<li>âœ… æ­£ç¡®ï¼šè€ƒè™‘å…±å› æ•…éšœï¼Œå®ç°å¤šæ ·æ€§è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>è¿‡åº¦ä¾èµ–è½¯ä»¶å®‰å…¨</strong></p>
<ul>
<li>âŒ é”™è¯¯ï¼šä»…é€šè¿‡è½¯ä»¶å®ç°æ‰€æœ‰å®‰å…¨åŠŸèƒ½</li>
<li>âœ… æ­£ç¡®ï¼šå…³é”®å®‰å…¨åŠŸèƒ½éœ€è¦ç‹¬ç«‹çš„ç¡¬ä»¶å›è·¯</li>
</ul>
</li>
</ol>
<h2 id="1610">16.10 æœ€ä½³å®è·µæ£€æŸ¥æ¸…å•</h2>
<h3 id="_9">å®‰å…¨æ¶æ„è®¾è®¡</h3>
<ul>
<li>[ ] <strong>å¨èƒå»ºæ¨¡</strong>ï¼šå®Œæˆ STRIDE æˆ– DREAD å¨èƒåˆ†æ</li>
<li>[ ] <strong>å®‰å…¨è¾¹ç•Œ</strong>ï¼šæ˜ç¡®å®šä¹‰å¯ä¿¡åŒºåŸŸå’Œæ”»å‡»é¢</li>
<li>[ ] <strong>æ·±åº¦é˜²å¾¡</strong>ï¼šå®ç°å¤šå±‚å®‰å…¨æ§åˆ¶</li>
<li>[ ] <strong>æœ€å°æƒé™</strong>ï¼šæ¯ä¸ªç»„ä»¶ä»…è·å¾—å¿…è¦æƒé™</li>
<li>[ ] <strong>å®‰å…¨é»˜è®¤</strong>ï¼šé»˜è®¤é…ç½®å³ä¸ºå®‰å…¨é…ç½®</li>
</ul>
<h3 id="_10">åŠ å¯†ä¸è®¤è¯</h3>
<ul>
<li>[ ] <strong>ç®—æ³•é€‰æ‹©</strong>ï¼šä½¿ç”¨æ ‡å‡†åŠ å¯†ç®—æ³•ï¼Œé¿å…è‡ªåˆ›ç®—æ³•</li>
<li>[ ] <strong>å¯†é’¥é•¿åº¦</strong>ï¼šRSA â‰¥ 2048 ä½ï¼ŒAES â‰¥ 128 ä½</li>
<li>[ ] <strong>å¯†é’¥è½®æ¢</strong>ï¼šå»ºç«‹å®šæœŸå¯†é’¥æ›´æ–°æœºåˆ¶</li>
<li>[ ] <strong>è¯ä¹¦ç®¡ç†</strong>ï¼šå®ç°è¯ä¹¦è¿‡æœŸå’Œæ’¤é”€å¤„ç†</li>
<li>[ ] <strong>å®‰å…¨å­˜å‚¨</strong>ï¼šä½¿ç”¨ HSM æˆ– TPM ä¿æŠ¤å¯†é’¥</li>
</ul>
<h3 id="_11">è¯Šæ–­ç³»ç»Ÿ</h3>
<ul>
<li>[ ] <strong>è¦†ç›–å®Œæ•´</strong>ï¼šæ‰€æœ‰å…³é”®ç»„ä»¶éƒ½æœ‰è¯Šæ–­ç›‘æ§</li>
<li>[ ] <strong>åˆ†çº§å‘Šè­¦</strong>ï¼šåŒºåˆ†ä¿¡æ¯ã€è­¦å‘Šã€é”™è¯¯ã€ä¸¥é‡çº§åˆ«</li>
<li>[ ] <strong>å¯æ“ä½œæ€§</strong>ï¼šè¯Šæ–­ä¿¡æ¯åŒ…å«é—®é¢˜æè¿°å’Œå»ºè®®æ“ä½œ</li>
<li>[ ] <strong>å†å²è®°å½•</strong>ï¼šä¿å­˜è¯Šæ–­å†å²ç”¨äºè¶‹åŠ¿åˆ†æ</li>
<li>[ ] <strong>æ€§èƒ½å½±å“</strong>ï¼šè¯Šæ–­å¼€é”€ &lt; 5% CPU ä½¿ç”¨ç‡</li>
</ul>
<h3 id="_12">æ•…éšœå¤„ç†</h3>
<ul>
<li>[ ] <strong>æ•…éšœæ£€æµ‹</strong>ï¼šæ£€æµ‹æ—¶é—´æ»¡è¶³å®‰å…¨éœ€æ±‚</li>
<li>[ ] <strong>æ•…éšœéš”ç¦»</strong>ï¼šé˜²æ­¢æ•…éšœçº§è”ä¼ æ’­</li>
<li>[ ] <strong>æ•…éšœæ¢å¤</strong>ï¼šå®šä¹‰æ¸…æ™°çš„æ¢å¤ç­–ç•¥å’Œä¼˜å…ˆçº§</li>
<li>[ ] <strong>æ•…éšœè®°å½•</strong>ï¼šè¯¦ç»†è®°å½•æ•…éšœä¿¡æ¯ç”¨äºåˆ†æ</li>
<li>[ ] <strong>æ•…éšœæµ‹è¯•</strong>ï¼šé€šè¿‡æ•…éšœæ³¨å…¥éªŒè¯å¤„ç†æœºåˆ¶</li>
</ul>
<h3 id="_13">åŠŸèƒ½å®‰å…¨åˆè§„</h3>
<ul>
<li>[ ] <strong>æ ‡å‡†é€‰æ‹©</strong>ï¼šé€‰æ‹©é€‚ç”¨çš„åŠŸèƒ½å®‰å…¨æ ‡å‡†</li>
<li>[ ] <strong>å±å®³åˆ†æ</strong>ï¼šå®Œæˆ HAZOP æˆ– FMEA åˆ†æ</li>
<li>[ ] <strong>å®‰å…¨éœ€æ±‚</strong>ï¼šæ˜ç¡®å®šä¹‰å®‰å…¨åŠŸèƒ½å’Œæ€§èƒ½</li>
<li>[ ] <strong>éªŒè¯è®¡åˆ’</strong>ï¼šåˆ¶å®šå…¨é¢çš„éªŒè¯å’Œç¡®è®¤è®¡åˆ’</li>
<li>[ ] <strong>æ–‡æ¡£å®Œæ•´</strong>ï¼šç»´æŠ¤å®Œæ•´çš„å®‰å…¨ç”Ÿå‘½å‘¨æœŸæ–‡æ¡£</li>
</ul>
<h3 id="_14">è¿ç»´å’Œç»´æŠ¤</h3>
<ul>
<li>[ ] <strong>ç›‘æ§å‘Šè­¦</strong>ï¼š7Ã—24 å°æ—¶ç³»ç»Ÿç›‘æ§</li>
<li>[ ] <strong>åº”æ€¥å“åº”</strong>ï¼šå»ºç«‹å®‰å…¨äº‹ä»¶å“åº”æµç¨‹</li>
<li>[ ] <strong>å®šæœŸå®¡è®¡</strong>ï¼šå®šæœŸå®‰å…¨å®¡è®¡å’Œæ¸—é€æµ‹è¯•</li>
<li>[ ] <strong>è¡¥ä¸ç®¡ç†</strong>ï¼šåŠæ—¶åº”ç”¨å®‰å…¨è¡¥ä¸</li>
<li>[ ] <strong>å¤‡ä»½æ¢å¤</strong>ï¼šå®šæœŸæµ‹è¯•å¤‡ä»½å’Œæ¢å¤æµç¨‹</li>
</ul>
<h3 id="_15">åŸ¹è®­å’Œæ„è¯†</h3>
<ul>
<li>[ ] <strong>å®‰å…¨åŸ¹è®­</strong>ï¼šå›¢é˜Ÿæˆå‘˜æ¥å—å®‰å…¨åŸ¹è®­</li>
<li>[ ] <strong>æ“ä½œæ‰‹å†Œ</strong>ï¼šæä¾›æ¸…æ™°çš„å®‰å…¨æ“ä½œæŒ‡å—</li>
<li>[ ] <strong>äº‹æ•…å­¦ä¹ </strong>ï¼šä»äº‹æ•…ä¸­å­¦ä¹ å¹¶æ”¹è¿›</li>
<li>[ ] <strong>å®‰å…¨æ–‡åŒ–</strong>ï¼šå»ºç«‹å®‰å…¨ä¼˜å…ˆçš„å›¢é˜Ÿæ–‡åŒ–</li>
<li>[ ] <strong>æŒç»­æ”¹è¿›</strong>ï¼šå®šæœŸè¯„å®¡å’Œæ”¹è¿›å®‰å…¨æªæ–½</li>
</ul>
            </article>
            
            <nav class="page-nav"><a href="chapter15.html" class="nav-link prev">â† ç¬¬ 15 ç« ï¼šå®æ—¶ç³»ç»Ÿä¸æ€§èƒ½ä¼˜åŒ–</a><a href="chapter17.html" class="nav-link next">ç¬¬ 17 ç« ï¼šä»¿çœŸé›†æˆï¼ˆGazebo/Ignitionï¼‰ â†’</a></nav>
        </main>
    </div>
</body>
</html>